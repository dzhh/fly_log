<!doctype html>
<html>
 <head>
  <meta charset="UTF-8">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/3.7.0/echarts.min.js"></script>
  <script src="http://code.jquery.com/jquery-latest.js"></script> -->
  <script src=js/echarts.min.js></script>
  <script src=js/jquery-latest.js></script>
  
  <title>ES 统计 Tomcat 请求</title>
 </head>
 <script type="text/javascript">
 	var loadData = function() {
 		var myChart = echarts.init(document.getElementById('chart'));
 		
 		  $.get('tomcatRequestDate', function (result) {
 			 console.log(result)
 			 var obj = JSON.parse(result);
 			 console.log(obj['key'])
 		     myChart.setOption({
 		         title: {
 		             text: 'Tomcat 请求'
 		         },
 		         tooltip: {},
 		         legend: {
 		             data:['请求']
 		         },
 		         xAxis: {
 		             data: obj['key']
 		         },
 		         yAxis: {},
 		         series: [{
 		             name: '请求',
 		             type: 'bar',
 		             data: obj['value']
 		         }]
 		     });
 		 }); 
 		 
 	// 指定图表的配置项和数据
        /*var option = {
            title: {
                text: 'ECharts 入门示例'
            },
            tooltip: {},
            legend: {
                data:['销量']
            },
            xAxis: {
                data: ["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]
            },
            yAxis: {},
            series: [{
                name: '销量',
                type: 'bar',
                data: [5, 20, 36, 10, 10, 20]
            }]
        };

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option); */
 	}
 </script>
 <body onload="loadData()">
  <div id="chart" style="height: 400px; width: 400px; margin: 0"></div>
 </body>
</html>
